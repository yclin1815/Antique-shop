(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-24ac6721"],{1799:function(t,a,e){"use strict";var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("nav",{attrs:{"aria-label":"Page navigation"}},[e("ul",{staticClass:"pagination justify-content-center"},[e("li",{staticClass:"page-item",class:{disabled:1===t.pagination.current_page}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(a){return a.preventDefault(),t.changePage(t.pagination.current_page-1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t._l(t.pagination.total_pages,(function(a){return e("li",{key:a,staticClass:"page-item",class:{active:a===t.pagination.current_page}},[e("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.changePage(a)}}},[t._v(" "+t._s(a)+" ")])])})),e("li",{staticClass:"page-item",class:{disabled:t.pagination.current_page===t.pagination.total_pages}},[e("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(a){return a.preventDefault(),t.changePage(t.pagination.current_page+1)}}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])])},i=[],s=e("5530"),o=e("2f62"),r={methods:{changePage:function(t){this.$emit("get-data",t)}},computed:Object(s["a"])({},Object(o["c"])("paginationModules",["pagination"]))},c=r,l=e("2877"),d=Object(l["a"])(c,n,i,!1,null,null,null);a["a"]=d.exports},2977:function(t,a,e){"use strict";e("b03d")},b03d:function(t,a,e){},b0c0:function(t,a,e){var n=e("83ab"),i=e("9bf2").f,s=Function.prototype,o=s.toString,r=/^\s*function ([^ (]*)/,c="name";n&&!(c in s)&&i(s,c,{configurable:!0,get:function(){try{return o.call(this).match(r)[1]}catch(t){return""}}})},badf:function(t,a,e){"use strict";e.r(a);var n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container-fluid"},[e("div",{staticClass:"row"},t._l(t.storages,(function(a){return e("div",{key:a.id,staticClass:"col-12 col-lg-6 col-xl-4"},[e("div",{staticClass:"card mb-4"},[e("div",{staticClass:"card-img",style:{backgroundImage:"url("+a.path+")"}}),e("div",{staticClass:"card-body text-center"},[e("div",{staticClass:"form-group"},[e("label",{attrs:{for:"imageUrl"}},[t._v("圖片網址")]),e("input",{staticClass:"form-control",attrs:{type:"imageUrl",id:"imageUrl",disabled:""},domProps:{value:a.path}})]),e("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.openDelModal(a)}}},[t._v(" 刪除 ")])])])])})),0),e("div",{staticClass:"modal fade",attrs:{id:"delModal",role:"dialog","aria-labelledby":"delModalTitle","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[t._m(0),e("div",{staticClass:"modal-body"},[t._v("確定要刪除此圖片 (刪除後無法復原)")]),e("div",{staticClass:"modal-footer"},[e("button",{staticClass:"btn btn-outline-dark",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),e("button",{staticClass:"btn btn-outline-danger",attrs:{type:"button"},on:{click:function(a){return a.preventDefault(),t.delStorage()}}},[t._v(" 刪除 ")])])])])]),e("Pagination",{on:{"get-data":t.getStorages}})],1)},i=[function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"modal-header bg-danger text-light"},[e("h5",{staticClass:"modal-title",attrs:{id:"delModalTitle"}},[t._v("刪除圖片")]),e("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],s=e("5530"),o=(e("99af"),e("b0c0"),e("1799")),r={name:"StoragesManage",data:function(){return{pagination:{},storages:{},tempStorage:{}}},methods:{getStorages:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=this,n="".concat("https://course-ec-api.hexschool.io/api","/").concat("bd65c2e1-90a0-48f8-a51f-dfe3857be113","/admin/storage?page=").concat(a,"&paged=6");e.$store.dispatch("updateLoading",!0,{root:!0}),e.$http.get(n).then((function(a){e.storages=a.data.data,e.$store.dispatch("paginationModules/getPagination",{routerName:t.$route.name,data:a.data}),e.$store.dispatch("updateLoading",!1,{root:!0})}))},delStorage:function(){var t=this,a="".concat("https://course-ec-api.hexschool.io/api","/").concat("bd65c2e1-90a0-48f8-a51f-dfe3857be113","/admin/storage/").concat(t.tempStorage.id);t.$store.dispatch("updateLoading",!0,{root:!0}),t.$http.delete(a).then((function(){t.getStorages(),t.$store.dispatch("updateLoading",!1,{root:!0});var a={icon:"success",title:"刪除圖片成功"};t.$store.dispatch("alertMessageModules/openToast",a)})).catch((function(){t.$store.dispatch("updateLoading",!1,{root:!0});var a={icon:"error",title:"刪除圖片失敗"};t.$store.dispatch("alertMessageModules/openToast",a)})),$("#delModal").modal("hide")},openDelModal:function(t){$("#delModal").modal("show"),this.tempStorage=Object(s["a"])({},t)}},components:{Pagination:o["a"]},created:function(){this.getStorages()}},c=r,l=(e("2977"),e("2877")),d=Object(l["a"])(c,n,i,!1,null,"50947fa2",null);a["default"]=d.exports}}]);
//# sourceMappingURL=chunk-24ac6721.1422dac8.js.map