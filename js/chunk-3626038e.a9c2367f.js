(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3626038e"],{"41cb":function(t,a,e){},"88e9":function(t,a,e){"use strict";e.r(a);var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("loading",{attrs:{active:t.isLoading,"is-full-page":!0},on:{"update:active":function(a){t.isLoading=a}}}),e("div",{staticClass:"header",class:{"header-scroll":t.isMenuOpen||t.scrollHeader}},[e("router-link",{staticClass:"header-logo",attrs:{to:"/"}},[t._v("Antique")]),e("div",{staticClass:"header-inner",class:{"home-scroll":t.scrollHeader}},[e("ul",{staticClass:"menu",class:{active:t.isMenuOpen}},[e("li",[e("router-link",{staticClass:"menu-link",attrs:{to:"/"}},[t._v("HOME")])],1),e("li",[e("router-link",{staticClass:"menu-link",class:{active:"Products"===t.$route.name&&"router-link-active"},attrs:{to:"/products"}},[t._v("PRODUCTS")])],1),e("li",[e("router-link",{staticClass:"menu-link",attrs:{to:"/about"}},[t._v("ABOUT")])],1),e("li",[e("router-link",{staticClass:"menu-link",attrs:{to:"/contact"}},[t._v("CONTACT")])],1)]),e("ul",{staticClass:"header-toolbar"},[e("li",{staticClass:"dropdown"},[e("a",{staticClass:"toolbar-link p-3",attrs:{href:"#",role:"button","data-toggle":"dropdown"}},[e("i",{staticClass:"fas fa-heart"}),e("span",{staticClass:"toolbar-num"},[t._v(t._s(t.favoritesNum))])]),e("div",{staticClass:"dropdown-menu dropdown-menu-right px-2"},[e("h5",{staticClass:"text-center"},[t._v("喜愛商品")]),e("table",{staticClass:"table table-hover mb-1",staticStyle:{"min-width":"300px"}},[e("tbody",t._l(t.favorites,(function(a){return e("tr",{key:a.key},[e("td",{staticClass:"p-0"},[e("router-link",{staticClass:"favorite-link",attrs:{to:"/products/"+a.id}},[e("span",{staticClass:"toolbar-thumbnail mr-3",style:{backgroundImage:"url("+a.imageUrl+")"}}),e("p",{staticClass:"mb-1"},[t._v(t._s(a.title))])])],1),e("td",{staticClass:"px-1 align-middle"},[e("a",{staticClass:"toolbar-delicon",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.delFavoriteItem(a)}}},[e("i",{staticClass:"fas fa-times"})])])])})),0)]),t.favoritesNum?e("a",{staticClass:"btn btn-block btn-outline-danger",attrs:{href:"#","data-toggle":"modal","data-target":"#delModal"},on:{click:function(a){return a.preventDefault(),t.delFavoriteAll()}}},[t._v(" 全部清空 ")]):e("div",[t.favoritesNum?t._e():e("p",{staticClass:"mb-2 text-center text-muted"},[t._v("無喜愛商品")]),e("router-link",{staticClass:"btn btn-block btn-dark",attrs:{to:"/products"}},[t._v("看更多商品")])],1)])]),e("li",{staticClass:"dropdown"},[e("a",{staticClass:"toolbar-link p-3",attrs:{href:"#",role:"button","data-toggle":"dropdown"}},[e("i",{staticClass:"fas fa-shopping-bag"}),e("span",{staticClass:"toolbar-num"},[t._v(t._s(t.cartNum))])]),e("div",{staticClass:"dropdown-menu dropdown-menu-right px-2"},[e("h5",{staticClass:"text-center"},[t._v("購物車清單")]),e("table",{staticClass:"table mb-0",staticStyle:{"min-width":"300px"}},[e("tbody",t._l(t.carts,(function(a){return e("tr",{key:a.id},[e("td",[e("span",{staticClass:"toolbar-thumbnail mx-auto",style:{backgroundImage:"url("+a.product.imageUrl[0]+")"}})]),e("td",{staticClass:"px-1 align-middle"},[e("p",{staticClass:"mb-1"},[t._v(t._s(a.product.title)+" x "+t._s(a.quantity))]),e("p",{staticClass:"mb-0"},[t._v(" "+t._s(t._f("currency")(a.product.price*a.quantity))+" ")])]),e("td",{staticClass:"px-1 align-middle"},[e("a",{staticClass:"toolbar-delicon",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.delCartItem(a.product.id)}}},[e("i",{staticClass:"fas fa-times"})])])])})),0)]),t.cartNum?e("router-link",{staticClass:"btn btn-block btn-dark",attrs:{to:"/createorder"}},[t._v(" 查看購物車 ")]):e("div",[e("p",{staticClass:"mb-2 text-center text-muted"},[t._v("購物車無商品")]),e("router-link",{staticClass:"btn btn-block btn-dark",attrs:{to:"/products"}},[t._v("購物去")])],1)],1)]),e("a",{staticClass:"menu-toggle",attrs:{href:"#"},on:{click:function(a){a.preventDefault(),t.isMenuOpen=!t.isMenuOpen}}},[e("span",{directives:[{name:"show",rawName:"v-show",value:!t.isMenuOpen,expression:"!isMenuOpen"}],staticClass:"p-3"},[e("i",{staticClass:"fas fa-bars"})]),e("span",{directives:[{name:"show",rawName:"v-show",value:t.isMenuOpen,expression:"isMenuOpen"}],staticClass:"p-3"},[e("i",{staticClass:"fas fa-times"})])])])])],1),e("router-view",{key:t.$route.fullPath,ref:"view"}),e("div",{staticClass:"footer"},[t._v(" ⓒ 2021 Antique ")])],1)},r=[],i=e("5530"),o=(e("b0c0"),e("2f62")),l={name:"Layout",data:function(){return{scrollHeader:!1,isMenuOpen:!1,routerName:this.$route.name}},methods:Object(i["a"])({delCartItem:function(t){this.$store.dispatch("cartModules/delCartItem",t)},delFavoriteItem:function(t){var a=this,e=this.routerName;this.$store.dispatch("favoriteModules/delFavoriteItem",t).then((function(){"Products"===e&&a.$store.dispatch("productsModules/getProducts",{routerName:e})}))},delFavoriteAll:function(){var t=this,a=this.routerName;this.$swal({title:"刪除喜愛商品",text:"確定要刪除全部喜愛商品 (刪除後無法復原)",showCancelButton:!0,confirmButtonColor:"#dc3545",cancelButtonColor:"#343a40",confirmButtonText:"確認",cancelButtonText:"取消",customClass:{title:"swal-title swal-title-danger"}}).then((function(e){e.isConfirmed&&t.$store.dispatch("favoriteModules/delFavoriteAll").then((function(){"Products"===a&&t.$store.dispatch("productsModules/getProducts",{routerName:a})}))}))},scrollPage:function(){var t=this,a=$(window).scrollTop(),e=this.routerName;switch(!0){case"Home"===e&&a>0:window.addEventListener("scroll",t.scrollPage),t.scrollHeader=!0;break;case"Home"===e:window.addEventListener("scroll",t.scrollPage),t.scrollHeader=!1;break;default:window.removeEventListener("scroll",t.scrollPage),t.scrollHeader=!0;break}}},Object(o["b"])("cartModules",["getCarts"])),computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(o["c"])(["isLoading"])),Object(o["c"])("cartModules",["carts","cartNum"])),Object(o["c"])("favoriteModules",["favorites","favoritesNum"])),watch:{$route:function(t,a){var e=this;t.path!==a.path&&(e.routerName=t.name,e.isMenuOpen=!1,e.scrollPage())}},created:function(){var t=this;t.$store.dispatch("cartModules/getCarts"),t.$store.dispatch("favoriteModules/getFavorites"),t.scrollPage()}},n=l,c=(e("8e1a"),e("2877")),u=Object(c["a"])(n,s,r,!1,null,"6153aab0",null);a["default"]=u.exports},"8e1a":function(t,a,e){"use strict";e("41cb")},b0c0:function(t,a,e){var s=e("83ab"),r=e("9bf2").f,i=Function.prototype,o=i.toString,l=/^\s*function ([^ (]*)/,n="name";s&&!(n in i)&&r(i,n,{configurable:!0,get:function(){try{return o.call(this).match(l)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-3626038e.a9c2367f.js.map