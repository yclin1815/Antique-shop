(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-22304863"],{"658f":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product-wrap"},[s("div",{staticClass:"pagebanner",style:{backgroundImage:"url("+t.categoryImg+")"}}),s("div",{staticClass:"container"},[s("nav",{staticClass:"mb-4",attrs:{"aria-label":"breadcrumb"}},[s("ol",{staticClass:"breadcrumb"},[s("li",{staticClass:"breadcrumb-item"},[s("router-link",{attrs:{to:"/"}},[t._v(" 首頁 ")])],1),s("li",{staticClass:"breadcrumb-item"},[s("router-link",{attrs:{to:{name:"Products",query:{categoryName:t.product.category}}}},[t._v(" "+t._s(t.product.category)+" ")])],1),s("li",{staticClass:"breadcrumb-item active",attrs:{"aria-current":"page"}},[t._v(" "+t._s(t.product.title)+" ")])])]),s("div",{staticClass:"row mb-md-5"},[s("div",{staticClass:"col-12 col-md-6 mb-4 mb-md-0"},[t.product.imageUrl?s("div",{staticClass:"cover"},[s("div",{staticClass:"cover-img",style:{backgroundImage:"url("+t.product.imageUrl[0]+")"}},[s("a",{directives:[{name:"show",rawName:"v-show",value:t.isFavorite,expression:"isFavorite"}],staticClass:"favorite-icon favorite-icon-lg",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.delFavoriteItem(t.product)}}},[s("i",{staticClass:"fas fa-heart"})]),s("a",{directives:[{name:"show",rawName:"v-show",value:!t.isFavorite,expression:"!isFavorite"}],staticClass:"favorite-icon favorite-icon-lg",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.addFavorite(t.product)}}},[s("i",{staticClass:"far fa-heart"})])])]):t._e()]),s("div",{staticClass:"col-12 col-md-6"},[s("div",{staticClass:"text-center"},[s("h2",{staticClass:"mb-2"},[t._v(t._s(t.product.title))]),s("h3",{staticClass:"product-category"},[t._v(t._s(t.product.category))]),t.product.origin_price===t.product.price?s("ul",{staticClass:"product-price"},[s("li",{staticClass:"price"},[t._v(" 售價： "+t._s(t._f("currency")(t.product.origin_price))+" ")])]):s("ul",{staticClass:"product-price"},[s("li",{staticClass:"price price-through"},[t._v(" 售價： "+t._s(t._f("currency")(t.product.origin_price))+" ")]),s("li",{staticClass:"price"},[t._v("特價： "+t._s(t._f("currency")(t.product.price)))])]),s("div",{staticClass:"product-cart"},[s("div",{staticClass:"counter"},[s("a",{staticClass:"lessNum",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.lessNum()}}},[s("i",{staticClass:"fas fa-minus"})]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.counterNum,expression:"counterNum"}],staticClass:"counter-input",attrs:{type:"number",min:"1",readonly:"readonly"},domProps:{value:t.counterNum},on:{input:function(e){e.target.composing||(t.counterNum=e.target.value)}}}),s("a",{staticClass:"addNum",attrs:{href:"#"},on:{click:function(e){e.preventDefault(),t.counterNum+=1}}},[s("i",{staticClass:"fas fa-plus"})])]),s("a",{staticClass:"btn btn-dark",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.updateCartItem(t.product.id,t.counterNum)}}},[t._m(0),t._v(" 加入購物車 ")])]),s("h4",{staticClass:"product-subtitle"},[t._v("商品規格")]),s("p",{staticClass:"product-text"},[t._v(" "+t._s(t.product.content)+" ")]),s("h4",{staticClass:"product-subtitle"},[t._v("商品說明")]),s("p",{staticClass:"product-text",domProps:{innerHTML:t._s(t.product.description)}})])])]),s("h4",{staticClass:"swiper-title"},[t._v("您可能會喜歡")]),s("swiper",{staticClass:"swiper",attrs:{options:t.swiperOption}},t._l(t.relatedProducts,(function(e){return s("swiper-slide",{key:e.id},[s("router-link",{staticClass:"swipter-item",style:{backgroundImage:"url("+e.imageUrl[0]+")"},attrs:{to:"/products/"+e.id}},[s("span",{staticClass:"swipter-item-category"},[t._v(t._s(e.title))])])],1)})),1)],1)])},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("span",{staticClass:"mr-1"},[s("i",{staticClass:"fas fa-cart-plus"})])}],i=s("5530"),c=(s("b0c0"),s("159b"),s("4de4"),s("2f62")),o=s("7212"),u=(s("a7a3"),{name:"Product",data:function(){return{categoryName:"",counterNum:1,routerName:this.$route.name,swiperOption:{slidesPerView:1,spaceBetween:30,slidesPerGroup:1,loop:!0,loopFillGroupWithBlank:!0,autoplay:{delay:3e3,disableOnInteraction:!1},breakpoints:{576:{slidesPerView:2,spaceBetween:30,slidesPerGroup:1},1200:{slidesPerView:3,spaceBetween:20,slidesPerGroup:1}}}}},methods:Object(i["a"])({lessNum:function(){switch(!0){case this.counterNum>2:this.counterNum-=1;break;default:this.counterNum=1;break}},getData:function(){var t=this,e=this.$route.params.productId;this.$store.dispatch("productsModules/getProduct",{productId:e}).catch((function(){t.$swal({title:"發生錯誤",text:"找不到此商品，將返回商品頁",confirmButtonColor:"#dc3545",confirmButtonText:"確認",customClass:{title:"swal-title swal-title-danger"}}).then((function(){t.$router.push("/products")}))})),this.$store.dispatch("favoriteModules/getFavorites").then((function(){return t.$store.dispatch("productsModules/getProducts",{routerName:t.$route.name,productId:e})}))},updateCartItem:function(t,e){this.$store.dispatch("cartModules/updateCartItem",{id:t,num:e,method:"add"})},addFavorite:function(t){this.$store.dispatch("favoriteModules/addFavorite",t)},delFavoriteItem:function(t){this.$store.dispatch("favoriteModules/delFavoriteItem",t)}},Object(c["b"])("cartModules",["getCarts"])),computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({isFavorite:function(){var t=this,e=!1;return this.favorites.forEach((function(s){t.product.id===s.id&&(e=!0)})),e},relatedProducts:function(){var t=this;return this.products.filter((function(e){return e.category===t.product.category&&e.id!==t.product.id}))}},Object(c["c"])("cartModules",["carts"])),Object(c["c"])("favoriteModules",["favorites"])),Object(c["c"])("productsModules",["products","product","categories","categoryImg"])),components:{Swiper:o["Swiper"],SwiperSlide:o["SwiperSlide"]},created:function(){this.getData(),this.$store.dispatch("cartModules/getCarts")}}),n=u,l=(s("f6c6"),s("2877")),d=Object(l["a"])(n,r,a,!1,null,"74da183e",null);e["default"]=d.exports},b0c0:function(t,e,s){var r=s("83ab"),a=s("9bf2").f,i=Function.prototype,c=i.toString,o=/^\s*function ([^ (]*)/,u="name";r&&!(u in i)&&a(i,u,{configurable:!0,get:function(){try{return c.call(this).match(o)[1]}catch(t){return""}}})},f6c6:function(t,e,s){"use strict";s("f86b")},f86b:function(t,e,s){}}]);
//# sourceMappingURL=chunk-22304863.d2b606cd.js.map