{"version":3,"sources":["webpack:///./src/components/Pagination.vue?2129","webpack:///src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?b5ee","webpack:///./src/components/Pagination.vue","webpack:///./src/views/front/Products.vue?689e","webpack:///./node_modules/core-js/modules/es.function.name.js","webpack:///./src/views/front/Products.vue?b3ed","webpack:///src/views/front/Products.vue","webpack:///./src/views/front/Products.vue?ab57","webpack:///./src/views/front/Products.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","class","pagination","current_page","on","$event","preventDefault","changePage","_v","_l","n","key","_s","total_pages","staticRenderFns","methods","$emit","page","computed","component","DESCRIPTORS","defineProperty","f","FunctionPrototype","Function","prototype","FunctionPrototypeToString","toString","nameRE","NAME","configurable","get","call","match","error","style","backgroundImage","categoryImg","category","active","title","filterCategory","getCategory","directives","name","rawName","value","expression","modifiers","domProps","type","indexOf","_k","keyCode","search","target","composing","searchText","trim","$forceUpdate","filterData","length","filterText","_e","product","id","imageUrl","delFavoriteItem","isFavorite","addFavorite","origin_price","price","_f","updateCartItem","data","$store","dispatch","getData","item","vm","newProducts","text","status","msg","currentPage","products","filter","forEach","itemNum","minItem","maxItem","push","components","Pagination","created"],"mappings":"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","file":"js/chunk-08cbe26b.8e85bb69.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('nav',{attrs:{\"aria-label\":\"Page navigation\"}},[_c('ul',{staticClass:\"pagination justify-content-center\"},[_c('li',{staticClass:\"page-item\",class:{'disabled': _vm.pagination.current_page === 1}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"aria-label\":\"Previous\"},on:{\"click\":function($event){$event.preventDefault();return _vm.changePage(_vm.pagination.current_page - 1)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"«\")])])]),_vm._l((_vm.pagination.total_pages),function(n){return _c('li',{key:n,staticClass:\"page-item\",class:{'active': n === _vm.pagination.current_page}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.changePage(n)}}},[_vm._v(\" \"+_vm._s(n)+\" \")])])}),_c('li',{staticClass:\"page-item\",class:{'disabled': _vm.pagination.current_page === _vm.pagination.total_pages}},[_c('a',{staticClass:\"page-link\",attrs:{\"href\":\"#\",\"aria-label\":\"Next\"},on:{\"click\":function($event){$event.preventDefault();return _vm.changePage(_vm.pagination.current_page + 1)}}},[_c('span',{attrs:{\"aria-hidden\":\"true\"}},[_vm._v(\"»\")])])])],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <nav aria-label=\"Page navigation\">\n      <ul class=\"pagination justify-content-center\">\n        <li class=\"page-item\" :class=\"{'disabled': pagination.current_page === 1}\">\n          <a class=\"page-link\" href=\"#\" aria-label=\"Previous\"\n           @click.prevent=\"changePage(pagination.current_page - 1)\">\n            <span aria-hidden=\"true\">&laquo;</span>\n          </a>\n        </li>\n        <li class=\"page-item\" :class=\"{'active': n === pagination.current_page}\"\n         v-for=\"n in pagination.total_pages\" :key=\"n\">\n          <a class=\"page-link\" href=\"#\" @click.prevent=\"changePage(n)\">\n            {{ n }}\n          </a>\n        </li>\n        <li class=\"page-item\"\n         :class=\"{'disabled': pagination.current_page === pagination.total_pages}\">\n          <a class=\"page-link\" href=\"#\" aria-label=\"Next\"\n           @click.prevent=\"changePage(pagination.current_page + 1)\">\n            <span aria-hidden=\"true\">&raquo;</span>\n          </a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\n\nexport default {\n  methods: {\n    changePage (page) {\n      this.$emit('get-data', page)\n    }\n  },\n  computed: {\n    ...mapGetters('paginationModules', ['pagination'])\n  }\n}\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Pagination.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Pagination.vue?vue&type=template&id=1e3c1719&\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js&\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=style&index=0&id=5f986677&lang=scss&scoped=true&\"","var DESCRIPTORS = require('../internals/descriptors');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar FunctionPrototypeToString = FunctionPrototype.toString;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !(NAME in FunctionPrototype)) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return FunctionPrototypeToString.call(this).match(nameRE)[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"products-wrap\"},[_c('div',{staticClass:\"pagebanner\",style:({backgroundImage: 'url(' + _vm.categoryImg + ')'})}),_c('div',{staticClass:\"container-fluid products\"},[_c('div',{staticClass:\"row\"},[_c('div',{staticClass:\"col-12 col-md-5 col-lg-3\"},[_c('div',{staticClass:\"categories\"},[_c('h3',{staticClass:\"categories-title\"},[_vm._v(\"產品分類\")]),_c('ul',{staticClass:\"categories-list\"},_vm._l((_vm.categories),function(category){return _c('li',{key:category.key,class:{ active: category.title === _vm.filterCategory }},[_c('a',{staticClass:\"categories-link\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.getCategory(category)}}},[_vm._v(\" \"+_vm._s(category.title)+\" \")])])}),0)]),_c('div',{staticClass:\"input-group search-inputgroup\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.searchText),expression:\"searchText\",modifiers:{\"trim\":true}}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":\"請輸入搜尋商品\"},domProps:{\"value\":(_vm.searchText)},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.search()},\"input\":function($event){if($event.target.composing){ return; }_vm.searchText=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-dark rounded-right\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){$event.preventDefault();return _vm.search()}}},[_vm._v(\" 搜尋 \")])])])]),_c('div',{staticClass:\"col-12 col-md-7 col-lg-9\"},[(_vm.filterText)?_c('div',{staticClass:\"products-info\"},[_vm._v(\" 搜尋到 \"+_vm._s(_vm.filterData.length)+\" 筆 \\\"\"+_vm._s(_vm.filterText)+\"\\\" 資料 \")]):_vm._e(),_c('div',{staticClass:\"row\"},_vm._l((_vm.filterData),function(product){return _c('div',{key:product.id,staticClass:\"col-12 col-lg-6 col-xl-4\"},[_c('router-link',{staticClass:\"card\",attrs:{\"to\":(\"/products/\" + (product.id))}},[_c('div',{staticClass:\"card-head\"},[_c('div',{staticClass:\"card-img-wrap\"},[_c('span',{staticClass:\"card-img\",style:({backgroundImage: 'url(' + product.imageUrl[0] + ')'})})]),_c('div',{staticClass:\"card-category\"},[_vm._v(_vm._s(product.category))]),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(product.isFavorite),expression:\"product.isFavorite\"}],staticClass:\"favorite-icon\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.delFavoriteItem(product)}}},[_c('i',{staticClass:\"fas fa-heart\"})]),_c('a',{directives:[{name:\"show\",rawName:\"v-show\",value:(!product.isFavorite),expression:\"!product.isFavorite\"}],staticClass:\"favorite-icon\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addFavorite(product)}}},[_c('i',{staticClass:\"far fa-heart\"})])]),_c('div',{staticClass:\"card-body text-center\"},[_c('h4',{staticClass:\"card-title\"},[_vm._v(_vm._s(product.title))]),(product.origin_price === product.price)?_c('ul',{staticClass:\"card-price\"},[_c('li',{staticClass:\"price\"},[_vm._v(\" 售價： \"+_vm._s(_vm._f(\"currency\")(product.origin_price))+\" \")])]):_c('ul',{staticClass:\"card-price\"},[_c('li',{staticClass:\"price price-through\"},[_vm._v(\" 售價： \"+_vm._s(_vm._f(\"currency\")(product.origin_price))+\" \")]),_c('li',{staticClass:\"price\"},[_vm._v(\" 特價： \"+_vm._s(_vm._f(\"currency\")(product.price))+\" \")])]),_c('a',{staticClass:\"btn btn-dark btn-sm card-btn\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.updateCartItem(product.id, 1)}}},[_c('span',{staticClass:\"mr-1\"},[_c('i',{staticClass:\"fas fa-shopping-basket\"})]),_vm._v(\" 放入購物車 \")])])])],1)}),0),_c('div',{staticClass:\"products-pagination\"},[_c('Pagination',{on:{\"get-data\":_vm.changePage}})],1)])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"products-wrap\">\n    <div class=\"pagebanner\" :style=\"{backgroundImage: 'url(' + categoryImg + ')'}\"></div>\n    <div class=\"container-fluid products\">\n      <div class=\"row\">\n        <div class=\"col-12 col-md-5 col-lg-3\">\n          <div class=\"categories\">\n            <h3 class=\"categories-title\">產品分類</h3>\n              <ul class=\"categories-list\">\n                <li v-for=\"category in categories\" :key=\"category.key\" :class=\"{ active: category.title === filterCategory }\">\n                  <a href=\"#\" class=\"categories-link\" @click.prevent=\"getCategory(category)\">\n                    {{ category.title }}\n                  </a>\n                </li>\n              </ul>\n          </div>\n          <div class=\"input-group search-inputgroup\">\n            <input type=\"text\" class=\"form-control\" placeholder=\"請輸入搜尋商品\"\n             v-model.trim=\"searchText\" @keyup.enter=\"search()\">\n            <div class=\"input-group-append\">\n              <button class=\"btn btn-dark rounded-right\" type=\"button\"\n               @click.prevent=\"search()\">\n                搜尋\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"col-12 col-md-7 col-lg-9\">\n          <div class=\"products-info\" v-if=\"filterText\">\n            搜尋到 {{ filterData.length }} 筆 \"{{ filterText }}\" 資料\n          </div>\n          <div class=\"row\">\n            <div class=\"col-12 col-lg-6 col-xl-4\" v-for=\"product in filterData\" :key=\"product.id\">\n              <router-link :to=\"`/products/${product.id}`\" class=\"card\">\n                <div class=\"card-head\">\n                  <div class=\"card-img-wrap\">\n                    <span class=\"card-img\" :style=\"{backgroundImage: 'url(' + product.imageUrl[0] + ')'}\">\n                    </span>\n                  </div>\n                  <div class=\"card-category\">{{ product.category }}</div>\n                  <a href=\"#\" class=\"favorite-icon\" @click.prevent=\"delFavoriteItem(product)\"\n                   v-show=\"product.isFavorite\">\n                   <i class=\"fas fa-heart\"></i>\n                  </a>\n                  <a href=\"#\" class=\"favorite-icon\" @click.prevent=\"addFavorite(product)\"\n                   v-show=\"!product.isFavorite\">\n                    <i class=\"far fa-heart\"></i>\n                  </a>\n                </div>\n                <div class=\"card-body text-center\">\n                  <h4 class=\"card-title\">{{ product.title }}</h4>\n                  <ul class=\"card-price\" v-if=\"product.origin_price === product.price\">\n                    <li class=\"price\">\n                      售價： {{ product.origin_price | currency }}\n                    </li>\n                  </ul>\n                  <ul class=\"card-price\" v-else>\n                    <li class=\"price price-through\">\n                      售價： {{ product.origin_price | currency }}\n                    </li>\n                    <li class=\"price\">\n                      特價： {{ product.price | currency }}\n                    </li>\n                  </ul>\n                  <a href=\"#\" class=\"btn btn-dark btn-sm card-btn\"\n                   @click.prevent=\"updateCartItem(product.id, 1)\">\n                    <span class=\"mr-1\">\n                      <i class=\"fas fa-shopping-basket\"></i>\n                    </span>\n                    放入購物車\n                  </a>\n                </div>\n              </router-link>\n            </div>\n          </div>\n          <div class=\"products-pagination\">\n            <Pagination @get-data=\"changePage\"/>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters, mapActions } from 'vuex'\nimport Pagination from '@/components/Pagination.vue'\n\nexport default {\n  name: 'Products',\n  data () {\n    return {\n      searchText: '',\n      filterText: '',\n      filterCategory: '全部商品'\n    }\n  },\n  methods: {\n    updateCartItem (id, num) {\n      this.$store.dispatch('cartModules/updateCartItem', { id, num, method: 'add' })\n    },\n    getData () {\n      const { categoryName } = this.$route.query\n      this.$store.dispatch('favoriteModules/getFavorites')\n        .then(() => this.$store.dispatch('productsModules/getProducts', { routerName: this.$route.name }))\n        .then(() => {\n          if (categoryName) {\n            this.getCategory({ title: categoryName })\n          } else {\n            this.$store.dispatch('paginationModules/getPagination', { routerName: this.$route.name, data: this.products })\n          }\n        })\n    },\n    addFavorite (item) {\n      this.$store.dispatch('favoriteModules/addFavorite', item)\n        .then(() => {\n          this.$store.dispatch('productsModules/getProducts', { routerName: this.$route.name })\n        })\n    },\n    delFavoriteItem (item) {\n      this.$store.dispatch('favoriteModules/delFavoriteItem', item)\n        .then(() => {\n          this.$store.dispatch('productsModules/getProducts', { routerName: this.$route.name })\n        })\n    },\n    getCategory (category) {\n      const vm = this\n      vm.filterCategory = category.title\n      // 切換分類，更換封面圖\n      vm.$store.dispatch('productsModules/updateCategoryImg', vm.filterCategory)\n      // 切換分類，更新頁碼資訊\n      vm.$store.dispatch('paginationModules/updatePagination', vm.newProducts)\n      // 切換分類，清除搜尋\n      if (vm.filterText) {\n        vm.filterText = ''\n      }\n    },\n    search () {\n      const vm = this\n      if (vm.searchText) {\n        vm.filterCategory = '全部商品'\n        vm.filterText = vm.searchText\n        vm.searchText = ''\n        // 切換分類，更新頁碼資訊\n        vm.$store.dispatch('paginationModules/updatePagination', vm.newProducts)\n      } else {\n        const msg = {\n          title: '請輸入搜尋文字',\n          text: '搜尋內容為空，請輸入搜尋文字',\n          status: 'danger'\n        }\n        vm.$store.dispatch('alertMessageModules/openModal', msg)\n      }\n    },\n    changePage (currentPage) {\n      this.$store.dispatch('paginationModules/updateCurrentPage', currentPage)\n    },\n    ...mapActions('cartModules', ['getCarts'])\n  },\n  computed: {\n    newProducts () {\n      const vm = this\n\n      // 有搜尋字串\n      if (vm.filterText) {\n        vm.filterCategory = '全部商品'\n        return vm.products.filter((item) => item.title.indexOf(vm.filterText) !== -1)\n      }\n      // 分類不為全部\n      if (vm.filterCategory !== '全部商品') {\n        return vm.products.filter((item) => item.category === vm.filterCategory)\n      }\n      return vm.products\n    },\n    filterData () {\n      const vm = this\n      const data = []\n\n      // 顯示當前頁面資料\n      const perpage = Number(vm.pagination.perpage)\n      const currentPage = Number(vm.pagination.current_page)\n\n      // 取此頁碼最大及最小資料為第?筆\n      const minItem = (currentPage * perpage) - perpage + 1\n      const maxItem = currentPage * perpage\n\n      vm.newProducts.forEach((item, i) => {\n        const itemNum = i + 1\n        if (itemNum >= minItem && itemNum <= maxItem) {\n          data.push(item)\n        }\n      })\n      return data\n    },\n    ...mapGetters('cartModules', ['carts']),\n    ...mapGetters('productsModules', ['products', 'categories', 'categoryImg']),\n    ...mapGetters('favoriteModules', ['favorites']),\n    ...mapGetters('paginationModules', ['pagination'])\n  },\n  components: {\n    Pagination\n  },\n  created () {\n    this.getData()\n    this.$store.dispatch('cartModules/getCarts')\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/assets/scss/all\";\n\n.products-wrap {\n  min-height: calc( 100vh - 48px );\n}\n\n.pagebanner {\n  margin-bottom: 4rem;\n}\n\n.products {\n  padding: 0 2rem;\n}\n\n.search-inputgroup {\n  margin-bottom: 2rem;\n  button {\n    padding: 0.25rem 2rem;\n  }\n  input {\n    height: auto;\n    padding: 0.5rem 1rem;\n    border-color: $dark;\n  }\n}\n\n.categories {\n  margin-bottom: 2rem;\n  border-radius: 0.25rem;\n  text-align: center;\n}\n\n.categories-title {\n  margin-bottom: 0;\n  padding-bottom: 1rem;\n  font-size: 1.25rem;\n}\n\n.categories-list {\n  border-top: 2px solid $dark;\n  border-radius: 4px;\n  padding: 1rem 1rem 1.5rem;\n  background-color: $light;\n  .active a {\n    background-color: $dark;\n    border-color: $dark;\n    color: $white;\n    &:hover {\n      background-color: lighten($dark, 10%);\n    }\n  }\n}\n\n.categories-link {\n  display: block;\n  padding: 0.5rem 0;\n  border-bottom: 1px solid $muted;\n  color: $dark;\n  font-size: 1rem;\n  &:hover {\n    background-color: $primary;\n    border-color: $primary;\n    color: $white;\n    text-decoration: none;\n  }\n}\n\n.products-info {\n  margin-bottom: 2rem;\n}\n\n.card {\n  margin-bottom: 2rem;\n  transition: 0.5s all ease;\n  color: $dark;\n  &:hover {\n    box-shadow: 1px 2px 11px lighten($primary, 20%);\n    color: $dark;\n    text-decoration: none;\n    .card-img {\n      transform: scale(1.05);\n    }\n  }\n}\n\n.card-head {\n  position: relative;\n  margin-bottom: 0.25rem;\n}\n\n.card-img-wrap {\n  overflow: hidden;\n}\n\n.card-img {\n  display: block;\n  width: 100%;\n  min-height: 10rem;\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n  transition: 0.5s all ease;\n}\n\n.card-category {\n  position: absolute;\n  bottom: -1rem;\n  left: 50%;\n  transform: translateX(-50%);\n  padding: 0.25rem 0.5rem;\n  background-color: $dark;\n  border-radius: 0.25rem;\n  color: $white;\n}\n\n.card-price {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin-bottom: 0.75rem;\n}\n\n.price {\n  font-size: 1.2rem;\n}\n\n.price-through {\n  margin-right: 1rem;\n  color: $primary;\n  font-size: 1rem;\n  text-decoration: line-through;\n}\n\n.card-btn:hover {\n  background-color: $secondary;\n  border-color: $secondary;\n}\n\n.products-pagination {\n  margin: 0 auto 3rem;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Products.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Products.vue?vue&type=template&id=5f986677&scoped=true&\"\nimport script from \"./Products.vue?vue&type=script&lang=js&\"\nexport * from \"./Products.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Products.vue?vue&type=style&index=0&id=5f986677&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5f986677\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}